(()=>{let e=e=>history.state&&history.replaceState(e,""),t=Boolean(document.startViewTransition),r=()=>Boolean(document.querySelector('[name="astro-view-transitions-enabled"]')),a=e=>document.dispatchEvent(new Event(e)),n=()=>a("astro:page-load"),l="data-astro-transition-persist",o=0;history.state?(o=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):r()&&history.replaceState({index:o,scrollX,scrollY},"");let i=(e,t)=>{let r=!1,a=!1;return(...n)=>{if(r){a=!0;return}e(...n),r=!0,setTimeout(()=>{a&&(a=!1,e(...n)),r=!1},t)}};async function s(e){let t;try{let r=await fetch(e),a=await r.text();return{ok:r.ok,html:a,redirected:r.redirected?r.url:void 0,mediaType:null===(t=r.headers.get("content-type"))||void 0===t?void 0:t.replace(/;.*$/,"")}}catch(n){return{ok:!1}}}function c(){let e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function f(){for(let e of document.scripts)e.dataset.astroExec=""}function u(){let e=Promise.resolve();for(let t of Array.from(document.scripts)){if(""===t.dataset.astroExec)continue;let r=document.createElement("script");for(let a of(r.innerHTML=t.innerHTML,t.attributes)){if("src"===a.name){let n=new Promise(e=>{r.onload=e});e=e.then(()=>n)}r.setAttribute(a.name,a.value)}r.dataset.astroExec="",t.replaceWith(r)}return e}function d(e){let t=e.effect;if(!t||!(t instanceof KeyframeEffect)||!t.target)return!1;let r=window.getComputedStyle(t.target,t.pseudoElement);return"infinite"===r.animationIterationCount}let h=new DOMParser;async function p(e,t,r,n){let i=t=>{let r=t.getAttribute(l),a=r&&e.head.querySelector(`[${l}="${r}"]`);if(a)return a;if(t.matches("link[rel=stylesheet]")){let n=t.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${n}"]`)}if("SCRIPT"===t.tagName){let o=t;for(let i of e.scripts)if(o.textContent&&o.textContent===i.textContent||o.type===i.type&&o.src===i.src)return i}return null},s=()=>{e.querySelectorAll("head noscript").forEach(e=>e.remove());let n=document.documentElement,s=[...n.attributes].filter(({name:e})=>(n.removeAttribute(e),e.startsWith("data-astro-")));for(let c of([...e.documentElement.attributes,...s].forEach(({name:e,value:t})=>n.setAttribute(e,t)),Array.from(document.head.children))){let f=i(c);f?f.remove():c.remove()}document.head.append(...e.head.children);let u=document.body;for(let d of(document.body.replaceWith(e.body),u.querySelectorAll(`[${l}]`))){let h=d.getAttribute(l),p=document.querySelector(`[${l}="${h}"]`);p&&p.replaceWith(d)}scrollTo({left:0,top:0,behavior:"instant"});let m=0,y=0;if(!r&&t.hash){let b=decodeURIComponent(t.hash.slice(1)),g=document.getElementById(b);g&&(g.scrollIntoView(),m=Math.max(0,g.offsetLeft+g.offsetWidth-document.documentElement.clientWidth),y=g.offsetTop)}else r&&scrollTo(r.scrollX,r.scrollY);r||history.pushState({index:++o,scrollX:m,scrollY:y},"",t.href),a("astro:after-swap")},c=[];for(let f of e.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${l}="${f.getAttribute(l)}"], link[rel=stylesheet]`)){let u=document.createElement("link");u.setAttribute("rel","preload"),u.setAttribute("as","style"),u.setAttribute("href",f.getAttribute("href")),c.push(new Promise(e=>{["load","error"].forEach(t=>u.addEventListener(t,e)),document.head.append(u)}))}if(c.length&&await Promise.all(c),"animate"===n){let h=document.getAnimations();document.documentElement.dataset.astroTransitionFallback="old";let p=document.getAnimations().filter(e=>!h.includes(e)&&!d(e)),m=Promise.all(p.map(e=>e.finished));await m,s(),document.documentElement.dataset.astroTransitionFallback="new"}else s()}async function m(e,r,a){let l,i=r.href,{html:d,ok:m,mediaType:y,redirected:b}=await s(i);if(b&&(r=new URL(b)),!m||!("text/html"===y||"application/xhtml+xml"===y)){location.href=i;return}let g=h.parseFromString(d,y);if(!g.querySelector('[name="astro-view-transitions-enabled"]')){location.href=i;return}a||history.replaceState({index:o,scrollX,scrollY},""),document.documentElement.dataset.astroTransition=e,l=t?document.startViewTransition(()=>p(g,r,a)).finished:p(g,r,a,c());try{await l}finally{await u(),f(),n()}}function y(e){if(document.querySelector(`link[rel=prefetch][href="${e}"]`))return;if(navigator.connection){let t=navigator.connection;if(t.saveData||/(2|3)g/.test(t.effectiveType||""))return}let r=document.createElement("link");r.setAttribute("rel","prefetch"),r.setAttribute("href",e),document.head.append(r)}if(t||"none"!==c()){f(),document.addEventListener("click",e=>{let t=e.target;if(t instanceof Element&&"A"!==t.tagName&&(t=t.closest("a")),!(!t||!(t instanceof HTMLAnchorElement)||void 0!==t.dataset.astroReload||t.hasAttribute("download"))&&t.href&&(!t.target||"_self"===t.target)&&t.origin===location.origin&&0===e.button&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.defaultPrevented&&r()){if(location.pathname===t.pathname&&location.search===t.search){if(t.hash)return;if(e.preventDefault(),location.hash){history.replaceState({index:o,scrollX,scrollY:-(scrollY+1)},"");let a={index:++o,scrollX:0,scrollY:0};history.pushState(a,"",t.href)}scrollTo({left:0,top:0,behavior:"instant"});return}e.preventDefault(),m("forward",new URL(t.href))}}),addEventListener("popstate",e=>{if(!r()&&e.state){history.scrollRestoration&&(history.scrollRestoration="manual"),location.reload();return}if(null===e.state){history.scrollRestoration&&(history.scrollRestoration="auto");return}history.scrollRestoration&&(history.scrollRestoration="manual");let t=history.state,a=t.index,n=a>o?"forward":"back";o=a,t.scrollY<0?scrollTo(t.scrollX,-(t.scrollY+1)):m(n,new URL(location.href),t)}),["mouseenter","touchstart","focus"].forEach(e=>{document.addEventListener(e,e=>{if(e.target instanceof HTMLAnchorElement){let t=e.target;t.origin===location.origin&&t.pathname!==location.pathname&&r()&&y(t.pathname)}},{passive:!0,capture:!0})}),addEventListener("load",n);let b=()=>{e({...history.state,scrollX,scrollY})};"onscrollend"in window?addEventListener("scrollend",b):addEventListener("scroll",i(b,300))}})();